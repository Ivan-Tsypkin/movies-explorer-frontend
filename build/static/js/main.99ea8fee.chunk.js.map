{"version":3,"sources":["images/header-logo.svg","components/Logo/Logo.js","components/Header/BurgerMenu.js","components/Header/Header.js","components/Footer/Footer.js","components/Main/Promo.js","components/Main/NavTab.js","components/Main/AboutProject.js","components/Main/Techs.js","images/my-foto.png","components/Main/Portfolio.js","components/Main/Main.js","components/Movies/SearchForm.js","components/Movies/MoviesCardList.js","components/Movies/MoviesCard.js","components/Movies/MoreMoviesButton.js","components/Movies/Preloader.js","components/Movies/NoMovieFound.js","components/Movies/Movies.js","components/Movies/SavedMovies.js","contexts/CurrentUserContext.js","hooks/useForm.js","components/Profile/Profile.js","components/Register/Register.js","components/Login/Login.js","components/NotFoundPage/NotFoundPage.js","components/InfoPopup/InfoPopup.js","components/ProtectedRoute/ProtectedRoute.js","utils/moviesApi.js","utils/mainApi.js","components/App/App.js","index.js"],"names":["Logo","to","className","src","headerLogo","alt","BurgerMenu","children","isBurgerMenuOpen","handleOpenBurgerMenu","onClick","width","height","viewBox","d","Header","isLoggedIn","useState","setIsBurgerMenuOpen","exact","path","activeClassName","Footer","currentDate","Date","getFullYear","pathname","target","Promo","NavTab","aboutProjectRef","techsRef","portfolioRef","scrollToRef","ref","window","scrollTo","current","offsetTop","AboutProject","Techs","id","Portfolio","myFoto","Main","useRef","SearchForm","onSearchSubmit","LOCAL_STORAGE_SEARCH_OPTIONS","isFocused","setIsFocused","text","setText","checked","setChecked","setLocalStorageSearchFormOptions","localStorage","setItem","JSON","stringify","useEffect","searchOptions","storage","getItem","parse","getLocalStorageSearchFormOptions","method","name","onSubmit","e","preventDefault","type","placeholder","maxLength","onFocus","onBlur","onChange","value","MoviesCardList","MoviesCard","movie","onMovieAdd","onMovieRemove","faveMoviesIdList","faveMovies","trailerLink","image","url","nameRU","includes","currentMovie","find","i","movieId","handleChangeMovieFaveStatus","Math","floor","duration","MoreMoviesButton","handleSetRenderIndex","Preloader","NoMovieFound","Movies","isLoading","movies","moviesCardRenderIndex","isMoviesArrayEnd","setIsMoviesArrayEnd","length","slice","map","SavedMovies","_id","CurrentUserContext","React","createContext","useFormValidation","values","setValues","errors","setErrors","isFormValid","setIsFormValid","handleChange","input","prevState","validationMessage","closest","checkValidity","resetForm","useCallback","newValues","newErrors","newIsValid","Profile","onSignOut","onUpdateUser","currentUser","useContext","isEditing","setIsEditing","isButtonDisabled","setIsButtonDisabled","email","htmlFor","minLength","required","disabled","Register","onRegisterSubmit","history","push","password","Login","onLoginSubmit","NotFoundPage","goBack","InfoTooltip","props","isOpen","onClose","stopPropagation","isSuccess","ProtectedRoute","Component","component","HEADERS","LOCAL_STORAGE_MOVIES_KEY","getInitialMovies","fetch","headers","then","res","ok","json","Promise","reject","status","handleResponse","BASE_SERVER_URL","getUserInfo","credentials","getAllUserMovies","App","useHistory","setIsLoggedIn","setCurrentUser","initialMovies","setInitialMovies","filteredMovies","setFilteredMovies","setFaveMovies","filteredFaveMovies","setFilteredFaveMovies","setFaveMoviesIdList","setIsLoading","setMoviesCardRenderIndex","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","tokenCheck","initMovies","moviesApi","all","mainApi","userData","userMovies","catch","error","console","log","handleFilterMovies","arr","searchText","checkboxStatus","movieDuration","filter","item","toLowerCase","handleLoginSubmit","body","data","handleRemoveMovieFromFave","innerWidth","initialRenderIndex","Provider","prevIndex","filtered","country","director","year","description","trailer","nameEN","thumbnail","formats","clear","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.99ea8fee.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.be2d72c0.svg\";","import { Link } from 'react-router-dom';\nimport headerLogo from '../../images/header-logo.svg';\n\nexport default function Logo() {\n\n  return (\n    <Link to=\"/\" className=\"logo__link\">\n      <img className=\"logo\" src={headerLogo} alt=\"Логотип\"/>\n    </Link>\n  )\n}\n","export default function BurgerMenu({ children, isBurgerMenuOpen, handleOpenBurgerMenu }) {\n\n  return (\n    <>\n      <button\n        onClick={() => handleOpenBurgerMenu()}\n        className={`menu ${isBurgerMenuOpen ? \"opened\" : \"\"}`}\n        aria-label=\"Меню\"\n      >\n        <svg width=\"44\" height=\"44\" viewBox=\"0 0 100 100\">\n          <path className=\"line line1\" d=\"M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058\" />\n          <path className=\"line line2\" d=\"M 20,50 H 80\" />\n          <path className=\"line line3\" d=\"M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942\" />\n        </svg>\n      </button>\n      <div className={`menu__opacity-cover ${isBurgerMenuOpen ? \"menu__opacity-cover_opened\" : \"\"}`} />\n      <div className={`menu__content ${isBurgerMenuOpen ? \"menu__content_opened\" : \"\"}`}>\n        {children}\n      </div>\n\n    </>\n  )\n}\n","import Logo from '../Logo/Logo';\nimport { Route, Switch, Link, NavLink } from 'react-router-dom';\nimport { useState } from 'react';\nimport BurgerMenu from './BurgerMenu';\n\n\nexport default function Header({ isLoggedIn }) {\n\n  const [isBurgerMenuOpen, setIsBurgerMenuOpen] = useState(false);\n\n  const handleOpenBurgerMenu = () => {\n    isBurgerMenuOpen ? setIsBurgerMenuOpen(false) : setIsBurgerMenuOpen(true);\n  }\n\n  return (\n    <Switch>\n\n      <Route exact path=\"/\">\n        <header className = \"header header_type_landing\">\n          <div className=\"header__section header__section_type_landing\">\n            <Logo />\n            {isLoggedIn\n              ? <>\n                  <BurgerMenu isBurgerMenuOpen={isBurgerMenuOpen} handleOpenBurgerMenu={handleOpenBurgerMenu}>\n                    <ul className=\"header__links-list header__links-list_type_burger-menu\">\n                      <li className=\"header__links-list-item header__links-list-item_type_burger-menu\">\n                        <NavLink\n                          exact to=\"/\"\n                          className=\"header__link header__link_type_burger-menu\"\n                          activeClassName=\"header__link_type_active\"\n                          onClick={() => handleOpenBurgerMenu()}\n                        >Главная</NavLink>\n                      </li>\n                      <li className=\"header__links-list-item header__links-list-item_type_burger-menu\">\n                        <NavLink\n                          to=\"/movies\"\n                          className=\"header__link header__link_type_burger-menu\"\n                          activeClassName=\"header__link_type_active\"\n                          onClick={() => handleOpenBurgerMenu()}\n                        >Фильмы</NavLink>\n                      </li>\n                      <li className=\"header__links-list-item header__links-list-item_type_burger-menu\">\n                        <NavLink\n                          to=\"/saved-movies\"\n                          className=\"header__link header__link_type_burger-menu\"\n                          activeClassName=\"header__link_type_active\"\n                          onClick={() => handleOpenBurgerMenu()}\n                        >Сохранённые фильмы</NavLink>\n                      </li>\n                      <li className=\"header__links-list-item header__links-list-item_type_burger-menu\">\n                        <NavLink\n                          to=\"/profile\"\n                          className=\"header__link header__link_type_burger-menu header__profile-link\"\n                          activeClassName=\"header__link_type_active\"\n                          onClick={() => handleOpenBurgerMenu()}\n                        >\n                          <div className=\"header__profile-button\">\n                            Аккаунт\n                            <div className=\"header__profile-icon\"></div>\n                          </div>\n                        </NavLink>\n                      </li>\n                    </ul>\n                  </BurgerMenu>\n\n                  <ul className=\"header__links-list header__links-list_type_content\">\n                    <li className=\"header__links-list-item\">\n                      <NavLink\n                        to=\"/movies\"\n                        className=\"header__link\"\n                        activeClassName=\"header__link_type_active\"\n                      >Фильмы</NavLink>\n                    </li>\n                    <li className=\"header__links-list-item\">\n                      <NavLink\n                        to=\"/saved-movies\"\n                        className=\"header__link\"\n                        activeClassName=\"header__link_type_active\"\n                      >Сохранённые фильмы</NavLink>\n                    </li>\n                    <li className=\"header__links-list-item\">\n                      <NavLink\n                        to=\"/profile\"\n                        className=\"header__link header__profile-link\"\n                        activeClassName=\"header__link_type_active\"\n                      >\n                        <div className=\"header__profile-button\">\n                          Аккаунт\n                          <div className=\"header__profile-icon\"></div>\n                        </div>\n                      </NavLink>\n                    </li>\n                  </ul>\n                </>\n              : <ul className=\"header__links-list header__links-list_type_landing\">\n                  <li className=\"header__links-list-item header__links-list-item_type_landing\"><Link to=\"/signup\" className=\"header__link header__link_type_landing\">Регистрация</Link></li>\n                  <li className=\"header__links-list-item header__links-list-item_type_landing\">\n                    <Link to=\"/signin\" className=\"header__link header__link_type_landing\">\n                      <div className=\"header__login\">Войти</div>\n                    </Link>\n                  </li>\n                </ul>\n            }\n          </div>\n        </header>\n      </Route>\n\n      <Route path=\"*\">\n        <header className=\"header\">\n          <div className=\"header__section\">\n            <Logo />\n\n            <BurgerMenu isBurgerMenuOpen={isBurgerMenuOpen} handleOpenBurgerMenu={handleOpenBurgerMenu}>\n              <ul className=\"header__links-list header__links-list_type_burger-menu\">\n                <li className=\"header__links-list-item header__links-list-item_type_burger-menu\">\n                  <NavLink\n                    exact to=\"/\"\n                    className=\"header__link header__link_type_burger-menu\"\n                    activeClassName=\"header__link_type_active\"\n                    onClick={() => handleOpenBurgerMenu()}\n                  >Главная</NavLink>\n                </li>\n                <li className=\"header__links-list-item header__links-list-item_type_burger-menu\">\n                  <NavLink\n                    to=\"/movies\"\n                    className=\"header__link header__link_type_burger-menu\"\n                    activeClassName=\"header__link_type_active\"\n                    onClick={() => handleOpenBurgerMenu()}\n                  >Фильмы</NavLink>\n                </li>\n                <li className=\"header__links-list-item header__links-list-item_type_burger-menu\">\n                  <NavLink\n                    to=\"/saved-movies\"\n                    className=\"header__link header__link_type_burger-menu\"\n                    activeClassName=\"header__link_type_active\"\n                    onClick={() => handleOpenBurgerMenu()}\n                  >Сохранённые фильмы</NavLink>\n                </li>\n                <li className=\"header__links-list-item header__links-list-item_type_burger-menu\">\n                  <NavLink\n                    to=\"/profile\"\n                    className=\"header__link header__link_type_burger-menu header__profile-link\"\n                    activeClassName=\"header__link_type_active\"\n                    onClick={() => handleOpenBurgerMenu()}\n                  >\n                    <div className=\"header__profile-button\">\n                      Аккаунт\n                      <div className=\"header__profile-icon\"></div>\n                    </div>\n                  </NavLink>\n                </li>\n              </ul>\n            </BurgerMenu>\n\n            <ul className=\"header__links-list header__links-list_type_content\">\n              <li className=\"header__links-list-item\">\n                <NavLink\n                  to=\"/movies\"\n                  className=\"header__link\"\n                  activeClassName=\"header__link_type_active\"\n                >Фильмы</NavLink>\n              </li>\n              <li className=\"header__links-list-item\">\n                <NavLink\n                  to=\"/saved-movies\"\n                  className=\"header__link\"\n                  activeClassName=\"header__link_type_active\"\n                >Сохранённые фильмы</NavLink>\n              </li>\n              <li className=\"header__links-list-item\">\n                <NavLink\n                  to=\"/profile\"\n                  className=\"header__link header__profile-link\"\n                  activeClassName=\"header__link_type_active\"\n                >\n                  <div className=\"header__profile-button\">\n                    Аккаунт\n                    <div className=\"header__profile-icon\"></div>\n                  </div>\n                </NavLink>\n              </li>\n            </ul>\n\n          </div>\n        </header>\n      </Route>\n\n    </Switch>\n  )\n}\n","import { Link } from 'react-router-dom';\n\nexport default function Footer() {\n  const currentDate = new Date()\n  return (\n    <div className=\"footer\">\n      <h2 className=\"footer__heading\">Учебный проект Яндекс.Практикум х BeatFilm.</h2>\n      <div className=\"footer__date-and-links\">\n        <p className=\"footer__date\">&copy; {currentDate.getFullYear()}</p>\n        <ul className=\"footer__links-list\">\n          <li className=\"footer__links-list-item\"><Link to={{pathname: \"https://practicum.yandex.ru\"}} target={\"_blank\"} className=\"footer__link\">Яндекс.Практикум</Link></li>\n          <li className=\"footer__links-list-item\"><Link to={{pathname: \"https://github.com/Ivan-Tsypkin\"}} target={\"_blank\"} className=\"footer__link\">Github</Link></li>\n          <li className=\"footer__links-list-item\"><Link to={{pathname: \"https://vk.com/interseptor\"}} target={\"_blank\"} className=\"footer__link\">Вконтакте</Link></li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n","export default function Promo() {\n\n  return (\n    <div className=\"promo\">\n      <h1 className=\"promo__heading\">Учебный проект студента факультета Веб-разработки.</h1>\n    </div>\n  )\n}\n","import { Link } from 'react-router-dom';\n\nexport default function NavTab({ aboutProjectRef, techsRef, portfolioRef }) {\n\n  const scrollToRef = (ref) => window.scrollTo(0, ref.current.offsetTop)\n\n  return (\n    <nav className=\"navtab\">\n      <ul className=\"navtab__links-list\">\n        <li className=\"navtab__links-list-item\"><Link to=\"/\" onClick={() => scrollToRef(aboutProjectRef)} className=\"navtab__link\">О проекте</Link></li>\n        <li className=\"navtab__links-list-item\"><Link to=\"/\" onClick={() => scrollToRef(techsRef)} className=\"navtab__link\">Технологии</Link></li>\n        <li className=\"navtab__links-list-item\"><Link to=\"/\" onClick={() => scrollToRef(portfolioRef)} className=\"navtab__link\">Студент</Link></li>\n      </ul>\n    </nav>\n  )\n}\n","export default function AboutProject({ aboutProjectRef }) {\n\n  return (\n    <div className=\"about-project\" ref={aboutProjectRef}>\n      <h2 className=\"about-project__heading\">О проекте</h2>\n      <div className=\"about-project__about-diploma-section\">\n        <div>\n          <h3 className=\"about-diploma-section__heading\">Дипломный проект включал 5 этапов</h3>\n          <p className=\"about-diploma-section__description\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n        </div>\n        <div>\n          <h3 className=\"about-diploma-section__heading about-diploma-section__heading_type_last\">На выполнение диплома ушло 5 недель</h3>\n          <p className=\"about-diploma-section__description\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n        </div>\n      </div>\n      <div className=\"about-project__timeline\">\n        <div className=\"timeline__bar timeline__one-week\">1 неделя</div>\n        <div className=\"timeline__bar timeline__four-week\">4 недели</div>\n        <div className=\"timeline__bar timeline__caption\">Back-end</div>\n        <div className=\"timeline__bar timeline__caption\">Front-end</div>\n      </div>\n    </div>\n  )\n}\n","export default function Techs({ techsRef }) {\n\n  return (\n    <div className=\"techs\" id=\"techs\" ref={techsRef}>\n      <div className=\"techs__section\">\n        <h2 className=\"techs__heading\">Технологии</h2>\n        <h3 className=\"techs__sub-heading\">7 технологий</h3>\n        <p className=\"techs__description\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n\n        <div className=\"techs__tools\">\n          <div className=\"techs__tool\">HTML</div>\n          <div className=\"techs__tool\">CSS</div>\n          <div className=\"techs__tool\">JS</div>\n          <div className=\"techs__tool\">React</div>\n          <div className=\"techs__tool\">Git</div>\n          <div className=\"techs__tool\">Express.js</div>\n          <div className=\"techs__tool\">mongoDB</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/my-foto.74ba8645.png\";","import { Link } from 'react-router-dom';\nimport myFoto from '../../images/my-foto.png';\n\nexport default function Portfolio({ portfolioRef }) {\n\n  return (\n    <div className=\"portfolio\" ref={portfolioRef}>\n      <h2 className=\"portfolio__heading\">Студент</h2>\n      <div className=\"portfolio__about-me-section\">\n        <div className=\"portfolio__my-info\">\n          <h3 className=\"portfolio__my-name\">Иван</h3>\n          <p className=\"portfolio__my-job\">Фронтенд-разработчик, 29 лет</p>\n          <p className=\"portfolio__about-me-description\">Я родился и живу в Нижнем Новгороде, закончил факультет электроэнергетики в НГТУ им. Р.Е. Алексеева. Увлекаюсь гитарой, пишу инструментальные треки в стиле рок и блюз. Люблю космос, слежу за миром астрофизики. Занимаюсь веб-разработкой, меня это вдохновляет, упорно учусь и развиваю навыки в этой области.</p>\n          <ul className=\"portfolio__social-links-list\">\n            <li className=\"portfolio__social-links-list-item\"><Link to={{pathname: \"https://vk.com/interseptor\"}} target={\"_blank\"} className=\"portfolio__social-link\">Вконтакте</Link></li>\n            <li className=\"portfolio__social-links-list-item\"><Link to={{pathname: \"https://github.com/Ivan-Tsypkin\"}} target={\"_blank\"} className=\"portfolio__social-link\">Github</Link></li>\n          </ul>\n        </div>\n        <img className=\"portfolio__my-foto\" src={myFoto} alt=\"Фото студента\"/>\n      </div>\n      <h3 className=\"portfolio__project-links-heading\">Портфолио</h3>\n      <ul className=\"portfolio__project-links-list\">\n        <li className=\"portfolio__project-links-list-item\">\n          <Link to={{pathname: \"https://ivan-tsypkin.github.io/how-to-learn/\"}} target={\"_blank\"} className=\"portfolio__project-link\">\n            <div className=\"portfolio__project-link-plate\">\n              Статичный сайт\n              <div className=\"portfolio__project-link-plate-arrow\">↗</div>\n            </div>\n          </Link>\n        </li>\n        <li className=\"portfolio__project-links-list-item\">\n          <Link to={{pathname: \"https://ivan-tsypkin.github.io/russian-travel/\"}} target={\"_blank\"} className=\"portfolio__project-link\">\n            <div className=\"portfolio__project-link-plate\">\n              Адаптивный сайт\n              <div className=\"portfolio__project-link-plate-arrow\">↗</div>\n            </div>\n          </Link>\n        </li>\n        <li className=\"portfolio__project-links-list-item\">\n          <Link to={{pathname: \"https://antares.nomoredomains.xyz/\"}} target={\"_blank\"} className=\"portfolio__project-link\">\n            <div className=\"portfolio__project-link-plate\">\n              Одностраничное приложение\n              <div className=\"portfolio__project-link-plate-arrow\">↗</div>\n            </div>\n          </Link>\n        </li>\n      </ul>\n    </div>\n  )\n}\n","import Promo from './Promo';\nimport NavTab from './NavTab';\nimport AboutProject from './AboutProject';\nimport Techs from './Techs';\nimport Portfolio from './Portfolio';\nimport { useRef } from 'react'\n\nexport default function Main() {\n\n  const techsRef = useRef(null);\n  const aboutProjectRef = useRef(null);\n  const portfolioRef = useRef(null);\n\n  return (\n    <>\n      <Promo />\n      <NavTab\n        aboutProjectRef={aboutProjectRef}\n        techsRef={techsRef}\n        portfolioRef={portfolioRef}\n      />\n      <AboutProject aboutProjectRef={aboutProjectRef}/>\n      <Techs techsRef={techsRef}/>\n      <Portfolio portfolioRef={portfolioRef} />\n    </>\n  )\n}\n","import { useState, useEffect } from 'react';\n\nexport default function SearchForm({ onSearchSubmit }) {\n\n  const LOCAL_STORAGE_SEARCH_OPTIONS = 'searchOptions'; //Место хранения опций поиска в localStorage\n\n  const [isFocused, setIsFocused] = useState(false);\n  const [text, setText] = useState('');\n  const [checked, setChecked] = useState('');\n\n  //Функция чтения опций поиска в localStorage\n  const getLocalStorageSearchFormOptions = () => {\n    const storage = localStorage.getItem(LOCAL_STORAGE_SEARCH_OPTIONS);\n    if (storage) {\n      return JSON.parse(storage);\n    }\n\n    return '';\n  }\n\n  //Функция записи опций поиска в localStorage\n  const setLocalStorageSearchFormOptions = (text, checked) => {\n    localStorage.setItem(LOCAL_STORAGE_SEARCH_OPTIONS, JSON.stringify({text, checked}));\n  }\n\n  //Подстановка предыдущих опций поиска в форму поиска\n  useEffect(() => {\n    const searchOptions = getLocalStorageSearchFormOptions();\n    setText(searchOptions.text);\n    setChecked(searchOptions.checked);\n  }, [])\n\n  //Повторная фильтрация после изменения состояния чекбокса формы поиска\n  useEffect(() => {\n    onSearchSubmit(text, checked);\n    setLocalStorageSearchFormOptions(text, checked);\n  }, [checked])\n\n  //Функция сабмита формы поиска\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSearchSubmit(text, checked);\n    setLocalStorageSearchFormOptions(text, checked);\n  }\n\n  return (\n    <div className=\"search\">\n        <form\n          className=\"search__form\"\n          method=\"POST\"\n          name=\"searchForm\"\n          onSubmit={handleSubmit}\n        >\n          <div className={`search__bar ${isFocused ? 'search__bar_focused' : ''}`}>\n            <input\n              className=\"search__form-item\"\n              type=\"text\"\n              placeholder=\"Фильм\"\n              name=\"userName\"\n              id=\"userName\"\n              maxLength=\"100\"\n              onFocus={() => setIsFocused(true)}\n              onBlur={() => setIsFocused(false)}\n              onChange={(e) => setText(e.target.value)}\n              value={text || ''}\n            ></input>\n            <button className=\"search__submit-button\" type=\"submit\" aria-label=\"Найти\">Найти</button>\n          </div>\n          <label className=\"search__checkbox-label\">\n            <input\n              className=\"search__checkbox\"\n              type=\"checkbox\"\n              name=\"checkbox\"\n              id=\"checkbox\"\n              checked={checked || false}\n              onChange={() => setChecked(!checked)}\n            ></input>\n            <span className=\"search__visible-checkbox\"></span>\n            Короткометражки\n          </label>\n        </form>\n    </div>\n  )\n}\n","export default function MoviesCardList({ children }) {\n\n  return (\n    <div className=\"movies\">\n      <ul className=\"movies__cards-list\">\n        {children}\n      </ul>\n    </div>\n  )\n}\n","import { useState } from 'react';\nimport { Route, Switch, Link } from 'react-router-dom';\n\nexport default function MoviesCard({\n  movie,\n  onMovieAdd,\n  onMovieRemove,\n  faveMoviesIdList,\n  faveMovies\n}) {\n\n  const [isLiked, setIsLiked] = useState(false);\n\n  function handleChangeMovieFaveStatus() {\n    const currentMovie = faveMovies.find(i => i.movieId === movie.id)\n    if (currentMovie) {\n      return onMovieRemove(currentMovie)\n    } else {\n      return onMovieAdd(movie)\n    }\n  }\n\n  return (\n    <li className=\"card\">\n      <Link className=\"card__image-link\" to={{pathname: movie.trailerLink}} target={\"_blank\"}>\n        <img\n          src = {`https://api.nomoreparties.co${movie.image.url || movie.image}`}\n          alt = {`Постер фильма ${movie.nameRU}`}\n          className=\"card__image\"\n        />\n      </Link>\n      <div className=\"card__caption\">\n        <h2 className=\"card__title\">{movie.nameRU}</h2>\n        <Switch>\n          <Route exact path=\"/movies\">\n            <button\n              type=\"button\"\n              className={`card__like-button ${faveMoviesIdList.includes(movie.id) ? \"card__like-button_active\" : \"\"}`}\n              onClick={() => handleChangeMovieFaveStatus()}\n            ></button>\n          </Route>\n          <Route exact path=\"/saved-movies\">\n            <button\n              type=\"button\"\n              className=\"card__unlike-button\"\n              onClick={() => onMovieRemove(movie)}\n            ></button>\n          </Route>\n          </Switch>\n      </div>\n      <p className=\"card__duration\">\n        {`${Math.floor(movie.duration / 60) ? `${Math.floor(movie.duration / 60)}ч ` : ``}${movie.duration % 60}м`}\n      </p>\n    </li>\n  )\n}\n","export default function MoreMoviesButton({ handleSetRenderIndex }) {\n\n  return (\n    <div className=\"more-movies\">\n      <button\n        className=\"more-movies__button\"\n        type=\"button\"\n        aria-label=\"Ещё\"\n        onClick={() => handleSetRenderIndex()}\n      >Ещё</button>\n    </div>\n  )\n}\n","import React from 'react'\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","export default function NoMovieFound() {\n\n  return (\n    <div className=\"no-movie-found\">\n      Ничего не найдено\n    </div>\n  )\n}\n","import SearchForm from './SearchForm';\nimport MoviesCardList from './MoviesCardList';\nimport { useState, useEffect } from 'react';\nimport MoviesCard from './MoviesCard';\nimport MoreMoviesButton from './MoreMoviesButton';\nimport Preloader from './Preloader';\nimport NoMovieFound from './NoMovieFound';\n\nexport default function Movies({\n  isLoading,\n  movies,\n  moviesCardRenderIndex,\n  handleSetRenderIndex,\n  onSearchSubmit,\n  onMovieAdd,\n  onMovieRemove,\n  faveMoviesIdList,\n  faveMovies,\n}) {\n  const [isMoviesArrayEnd, setIsMoviesArrayEnd] = useState(false)\n  useEffect(() => {\n    if (movies.length <= moviesCardRenderIndex) {\n      setIsMoviesArrayEnd(true);\n    } else {\n      setIsMoviesArrayEnd(false);\n    }\n  }, [movies.length, moviesCardRenderIndex])\n\n  return (\n    <>\n      <SearchForm onSearchSubmit={onSearchSubmit}/>\n      {isLoading\n        ? <Preloader />\n        : <MoviesCardList>\n            {movies.length ? \"\" : <NoMovieFound />}\n            {movies.slice(0, moviesCardRenderIndex).map(movie => {\n                return (<MoviesCard\n                  key={movie.id}\n                  movie={movie}\n                  onMovieAdd={onMovieAdd}\n                  onMovieRemove={onMovieRemove}\n                  faveMoviesIdList={faveMoviesIdList}\n                  faveMovies={faveMovies}\n                />)\n            })\n          }\n      </MoviesCardList>}\n      {isMoviesArrayEnd\n        ? null\n        : <MoreMoviesButton handleSetRenderIndex={handleSetRenderIndex} />\n      }\n    </>\n  )\n}\n","import SearchForm from './SearchForm';\nimport MoviesCardList from './MoviesCardList';\nimport MoviesCard from './MoviesCard';\nimport Preloader from './Preloader';\nimport NoMovieFound from './NoMovieFound';\n\nexport default function SavedMovies({\n  isLoading,\n  faveMovies,\n  onSearchSubmit,\n  faveMoviesIdList,\n  onMovieRemove\n}) {\n\n  return (\n    <>\n      <SearchForm onSearchSubmit={onSearchSubmit} />\n      {isLoading\n      ? <Preloader />\n      : <MoviesCardList>\n          {faveMovies.length ? \"\" : <NoMovieFound />}\n          {faveMovies.map(movie => {\n              return (<MoviesCard\n                key={movie._id}\n                movie={movie}\n                faveMoviesIdList={faveMoviesIdList}\n                onMovieRemove={onMovieRemove}\n              />)\n          })\n          }\n        </MoviesCardList>}\n    </>\n  )\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import { useCallback, useState } from \"react\";\n\nexport function useFormValidation() {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isFormValid, setIsFormValid] = useState(false);\n\n  const handleChange = (e) => {\n    const input = e.target;\n    const value = input.value;\n    const name = input.name;\n\n    setValues(prevState => ({ ...prevState, [name]: value }));\n    setErrors(prevState => ({ ...prevState, [name]: input.validationMessage }));\n    setIsFormValid(input.closest(\"form\").checkValidity());\n  }\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsFormValid(newIsValid);\n    },\n    [setValues, setErrors, setIsFormValid]\n  )\n\n  return {values, handleChange, errors, isFormValid, resetForm}\n}\n","import { useState, useContext, useEffect } from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { useFormValidation } from '../../hooks/useForm';\n\nexport default function Profile({ onSignOut, onUpdateUser }) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const {values, handleChange, errors, isFormValid, resetForm} = useFormValidation();\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false);\n\n  useEffect(() => {\n    resetForm({\n      ...values,\n      name: currentUser.name,\n      email: currentUser.email\n    }, {\n      ...errors,\n      name: 'Измените имя.',\n      email: 'Измените email.',\n    }, false)\n  }, [currentUser]);\n\n  useEffect(() => {\n    if((currentUser.name === values.name) && (currentUser.email === values.email)) {\n      setIsButtonDisabled(true);\n      resetForm({...values}, {\n        ...errors,\n        name: 'Измените имя.',\n        email: 'Измените email.',\n      }, false)\n    } else {\n      setIsButtonDisabled(false);\n    }\n  }, [values.name, values.email, currentUser.name, currentUser.email]);\n\n  function handleEditButton() {\n    setIsEditing(true);\n  }\n\n  function handleEditSubmit(e) {\n    e.preventDefault();\n    onUpdateUser(values.email, values.name);\n    setIsEditing(false);\n  }\n\n  return (\n    <div className=\"profile\">\n      <h1 className=\"profile__greetings\">Привет, {currentUser.name}!</h1>\n      {isEditing\n      ?\n      <>\n        <form className=\"profile__form\" onSubmit={handleEditSubmit}>\n\n          <label className=\"profile__form-item-label\" htmlFor=\"name\">Имя</label>\n            <input\n              type=\"text\"\n              className=\"profile__form-item\"\n              name=\"name\"\n              id=\"name\"\n              minLength=\"1\"\n              maxLength=\"60\"\n              required\n              value={values.name || ''}\n              onChange={handleChange}\n            />\n          <span className=\"profile__error profile__error_type_name profile__error_visible\">{errors.name || \"\"}</span>\n\n          <label className=\"profile__form-item-label\" htmlFor=\"email\">E-mail</label>\n          <input\n            type=\"email\"\n            className=\"profile__form-item\"\n            name=\"email\"\n            id=\"email\"\n            required\n            value={values.email || ''}\n            onChange={handleChange}\n          />\n          <span className=\"profile__error profile__error_type_email profile__error_visible\">{errors.email || \"\"}</span>\n\n          <button\n            type=\"submit\"\n            className={`profile__submit-button ${(!isFormValid || isButtonDisabled) && `profile__submit-button_disabled`}`}\n            aria-label=\"Отправить данные\"\n            disabled={isButtonDisabled}\n          >Сохранить</button>\n\n        </form>\n      </>\n      :\n      <>\n        <div className=\"profile__info-bar\">\n          <p className=\"profile__name-caption\">Имя</p>\n          <p className=\"profile__name\">{currentUser.name}</p>\n        </div>\n        <div className=\"profile__info-bar\">\n          <p className=\"profile__name-caption profile__email-caption\">E-mail</p>\n          <p className=\"profile__name profile__email\">{currentUser.email}</p>\n        </div>\n        <button\n          className=\"profile__button profile__edit-button\"\n          onClick={() => handleEditButton()}\n          type=\"button\"\n          aria-label=\"Редактировать\"\n        >Редактировать</button>\n        <button\n          className=\"profile__button profile__logout-button\"\n          type=\"button\"\n          aria-label=\"Выйти из аккаунта\"\n          onClick={onSignOut}\n        >Выйти из аккаунта</button>\n      </>}\n    </div>\n  )\n}\n","import { Link } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport Logo from '../Logo/Logo';\nimport { useFormValidation } from '../../hooks/useForm';\n\n\nexport default function Register({ onRegisterSubmit, isLoggedIn, history }) {\n\n  const {values, handleChange, errors, isFormValid, resetForm} = useFormValidation();\n\n  useEffect(() => {\n    if(isLoggedIn) {history.push(\"/\")};\n  });\n\n  useEffect(() => {\n    resetForm({}, {\n      ...errors,\n      name: 'Заполните это поле.',\n      email: 'Заполните это поле.',\n      password: 'Заполните это поле.'\n    }, false)\n  }, [])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onRegisterSubmit(values.email, values.name, values.password);\n  }\n\n  return (\n    <div className=\"register\">\n      <Logo />\n      <h1 className=\"register__heading\">Добро пожаловать!</h1>\n      <form className=\"register__form\" onSubmit = {handleSubmit}>\n\n        <label className=\"register__form-item-label\" htmlFor=\"name\">Имя</label>\n        <input\n          type=\"text\"\n          className=\"register__form-item\"\n          name=\"name\"\n          id=\"name\"\n          minLength=\"1\"\n          maxLength=\"60\"\n          required\n          value={values.name || ''}\n          onChange={handleChange}\n        />\n        <span className=\"register__error register__error_type_name register__error_visible\">{errors.name || \"\"}</span>\n\n        <label className=\"register__form-item-label\" htmlFor=\"email\">E-mail</label>\n        <input\n          type=\"email\"\n          className=\"register__form-item\"\n          name=\"email\"\n          id=\"email\"\n          required\n          value={values.email || ''}\n          onChange={handleChange}\n        />\n        <span className=\"register__error register__error_type_email register__error_visible\">{errors.email || \"\"}</span>\n\n        <label className=\"register__form-item-label\" htmlFor=\"password\">Пароль</label>\n        <input\n          type=\"password\"\n          className=\"register__form-item\"\n          name=\"password\"\n          id=\"password\"\n          minLength=\"6\"\n          maxLength=\"60\"\n          required\n          value={values.password || ''}\n          onChange={handleChange}\n        />\n        <span className=\"register__error register__error_type_password register__error_visible\">{errors.password || \"\"}</span>\n\n        <button\n          type=\"submit\"\n          className={`register__submit-button ${!isFormValid && `register__submit-button_disabled`}`}\n          aria-label=\"Отправить данные\"\n        >Зарегистрироваться</button>\n\n      </form>\n      <div className=\"register__login\">\n        <p>Уже зарегистрированы?&nbsp;</p>\n        <Link to=\"/signin\" className=\"register__login-link\">Войти</Link>\n      </div>\n    </div>\n  )\n}\n","import { Link } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport Logo from '../Logo/Logo';\nimport { useFormValidation } from '../../hooks/useForm';\n\n\nexport default function Login({ onLoginSubmit, isLoggedIn, history }) {\n\n  const {values, handleChange, errors, isFormValid, resetForm} = useFormValidation();\n\n  useEffect(() => {\n    if(isLoggedIn) {history.push(\"/\")};\n  });\n\n  useEffect(() => {\n    resetForm({}, {\n      ...errors,\n      name: 'Заполните это поле.',\n      email: 'Заполните это поле.',\n      password: 'Заполните это поле.'\n    }, false)\n  }, [])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onLoginSubmit(values.password, values.email);\n  }\n\n  return (\n    <div className=\"login\">\n      <Logo />\n      <h1 className=\"login__heading\">Рады видеть!</h1>\n      <form className=\"login__form\" onSubmit = {handleSubmit}>\n\n        <label className=\"login__form-item-label\" htmlFor=\"email\">E-mail</label>\n        <input\n          type=\"email\"\n          className=\"login__form-item\"\n          name=\"email\"\n          id=\"email\"\n          required\n          value={values.email || ''}\n          onChange={handleChange}\n        />\n        <span className=\"login__error login__error_type_email login__error_visible\">{errors.email || \"\"}</span>\n\n        <label className=\"login__form-item-label\" htmlFor=\"password\">Пароль</label>\n        <input\n          type=\"password\"\n          className=\"login__form-item\"\n          name=\"password\"\n          id=\"password\"\n          minLength=\"6\"\n          maxLength=\"60\"\n          required\n          value={values.password || ''}\n          onChange={handleChange}\n        />\n        <span className=\"login__error login__error_type_password login__error_visible\">{errors.password || \"\"}</span>\n\n        <button\n          type=\"submit\"\n          className={`login__submit-button ${!isFormValid && `login__submit-button_disabled`}`}\n          aria-label=\"Отправить данные\"\n        >Войти</button>\n\n      </form>\n      <div className=\"login__register\">\n        <p>Ещё не зарегистрированы?&nbsp;</p>\n        <Link to=\"/signup\" className=\"login__register-link\">Регистрация</Link>\n      </div>\n    </div>\n  )\n}\n","import { Link } from 'react-router-dom';\n\nexport default function NotFoundPage({ history }) {\n\n  return (\n    <div className=\"not-found-page\">\n      <h1 className=\"not-found-page__title\">404</h1>\n      <h2 className=\"not-found-page__subtitle\">Страница не найдена</h2>\n      <Link to=\"#\" onClick={() => history.goBack()} className=\"not-found-page__link\">Назад</Link>\n    </div>\n  )\n}\n","export default function InfoTooltip(props) {\n  return (\n    <div\n      className={`popup ${props.isOpen ? 'popup_opened' : ''}`}\n      onClick = {props.onClose}\n    >\n\n      <div className=\"popup__container\" onClick = {(e) => e.stopPropagation()}>\n        <button\n            type=\"button\"\n            className=\"popup__close-button\"\n            aria-label=\"Закрыть окно\"\n            onClick={props.onClose}\n        ></button>\n\n        <div className={`popup__success ${props.isSuccess ? \"\" : \"popup__success_type_unsuccess\"}`} ></div>\n\n        <h3 className=\"popup__heading popup__heading_type_info-tooltip\">{`${props.isSuccess ? \"Успех!\" : \"Что-то пошло не так! Попробуйте еще раз.\"}`}</h3>\n\n      </div>\n    </div>\n  )\n}\n","import { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","export const BASE_MOVIE_URL = 'https://api.nomoreparties.co/beatfilm-movies';\nconst HEADERS = {\n  'Accept': 'application/json',\n  'Content-Type': 'application/json'\n};\nconst LOCAL_STORAGE_MOVIES_KEY = 'initMovies';\n\nfunction handleResponse(res) {\n  if (res.ok) {return res.json()}\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nexport const getInitialMovies = () => {\n  return fetch(`${BASE_MOVIE_URL}`, {\n    method: 'GET',\n    headers: HEADERS,\n/*     credentials: 'include', */\n  })\n    .then(res => handleResponse(res))\n}\n\nexport const getLocalStorageMovies = () => {\n  const storage = localStorage.getItem(LOCAL_STORAGE_MOVIES_KEY);\n  if (storage) {\n    return JSON.parse(storage);\n  }\n\n  return null;\n}\n\nexport const setLocalStorageMovies = (value) => {\n  localStorage.setItem(LOCAL_STORAGE_MOVIES_KEY, JSON.stringify(value));\n}\n","export const BASE_SERVER_URL = 'https://api.sirius.nomoredomains.work';\nconst HEADERS = {\n  'Accept': 'application/json',\n  'Content-Type': 'application/json'\n};\nconst LOCAL_STORAGE_FAVE_MOVIES_KEY = 'faveMovies';\n\n\nfunction handleResponse(res) {\n  if (res.ok) {return res.json()}\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nexport const register = (email, name, password) => {\n  return fetch(`${BASE_SERVER_URL}/signup`, {\n    method: 'POST',\n    headers: HEADERS,\n    body: JSON.stringify({ email, name, password })\n  })\n    .then(res => handleResponse(res))\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_SERVER_URL}/signin`, {\n    method: 'POST',\n    headers: HEADERS,\n    credentials: 'include',\n    body: JSON.stringify({ password, email })\n  })\n    .then(res => handleResponse(res))\n    .then((data) => {\n      return data;\n    })\n};\n\nexport const logout = () => {\n  return fetch(`${BASE_SERVER_URL}/signout`, {\n    method: 'GET',\n    headers: HEADERS,\n    credentials: 'include',\n  })\n    .then(res => handleResponse(res))\n};\n\nexport const getUserInfo = () => {\n  return fetch(`${BASE_SERVER_URL}/users/me`, {\n    method: 'GET',\n    headers: HEADERS,\n    credentials: 'include',\n  })\n    .then(res => handleResponse(res))\n}\n\nexport const editUserInfo = (email, name) => {\n  return fetch(`${BASE_SERVER_URL}/users/me`, {\n    method: 'PATCH',\n    headers: HEADERS,\n    body: JSON.stringify({ email, name }),\n    credentials: 'include',\n  })\n    .then(res => handleResponse(res))\n}\n\nexport const getAllUserMovies = () => {\n  return fetch(`${BASE_SERVER_URL}/movies`, {\n  method: 'GET',\n  headers: HEADERS,\n  credentials: 'include',\n  })\n    .then(res => handleResponse(res))\n}\n\nexport const addMovieToFave = (movie) => {\n  return fetch(`${BASE_SERVER_URL}/movies`, {\n    method: 'POST',\n    headers: HEADERS,\n    body: JSON.stringify({\n      country: movie.country || 'country',\n      director: movie.director || 'director',\n      duration: movie.duration || 0,\n      year: movie.year || 'year',\n      description: movie.description || 'description',\n      image: movie.image.url || 'image-url',\n      trailer: movie.trailerLink || 'trailer-link',\n      nameRU: movie.nameRU || 'nameRU',\n      nameEN: movie.nameEN || 'nameEN',\n      thumbnail: `https://api.nomoreparties.co${movie.image.formats.thumbnail.url}`,\n      movieId: movie.id,\n    }),\n    credentials: 'include',\n  })\n    .then(res => handleResponse(res))\n}\n\nexport const removeMovieFromFave = (movie) => {\n  return fetch(`${BASE_SERVER_URL}/movies/${movie._id}`, {\n    method: 'DELETE',\n    headers: HEADERS,\n    credentials: 'include',\n    })\n      .then(res => handleResponse(res))\n}\n\nexport const getLocalStorageFaveMovies = () => {\n  const storage = localStorage.getItem(LOCAL_STORAGE_FAVE_MOVIES_KEY);\n  if (storage) {\n    return JSON.parse(storage);\n  }\n\n  return null;\n}\n\nexport const setLocalStorageFaveMovies = (value) => {\n  localStorage.setItem(LOCAL_STORAGE_FAVE_MOVIES_KEY, JSON.stringify(value));\n}\n","import '../../index.css';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../Movies/SavedMovies';\nimport Profile from '../Profile/Profile';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\nimport InfoTooltip from '../InfoPopup/InfoPopup';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport * as moviesApi from '../../utils/moviesApi';\nimport * as mainApi from '../../utils/mainApi';\n\n\nfunction App() {\n\n  const history = useHistory();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(true); //  Состояние авторизации\n  const [currentUser, setCurrentUser] = useState({}); //  Данные пользователя\n  const [initialMovies, setInitialMovies] = useState([]); //  Массив всех карточек\n  const [filteredMovies, setFilteredMovies] = useState(null); //  Массив отфильтрованных карточек\n  const [faveMovies, setFaveMovies] = useState([]); // Массив с избранными фильмами\n  const [filteredFaveMovies, setFilteredFaveMovies] = useState(null); // Массив с избранными фильмами, отфильтрованный\n  const [faveMoviesIdList, setFaveMoviesIdList] = useState([]); //  Массив id избранных фильмов\n  const [isLoading, setIsLoading] = useState(true); //  Состояние загрузки, поведение лоадера\n  const [moviesCardRenderIndex, setMoviesCardRenderIndex] = useState(0);  //  Состояние начального кол-ва генерируемых карточек\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState({isOpen: false, isSuccess: true}); //  Состояние попапа\n\n  //Установка значения кол-ва генерируемых карточек\n  useEffect(() => {\n    initialRenderIndex();\n  }, [])\n\n  //Получение карточек фильмов\n  useEffect(() => {\n    tokenCheck();\n  }, [])\n\n  //Функция установки первоначального значения генерируемых карточек фильмов, в зависимости от ширины экрана\n  function initialRenderIndex() {\n    if (window.innerWidth >= 990) {\n      return setMoviesCardRenderIndex(12);\n    } else if ((window.innerWidth < 990) && (window.innerWidth >= 630)) {\n      return setMoviesCardRenderIndex(8);\n    } else if (window.innerWidth < 630) {\n      return setMoviesCardRenderIndex(5);\n    }\n  }\n\n  //Функция установки значения кол-ва генерируемых карточек при клике на \"Ещё\"\n  function handleSetRenderIndex() {\n    if (window.innerWidth >= 1280) {\n      return setMoviesCardRenderIndex(prevIndex => prevIndex + 4);\n    } else if ((window.innerWidth < 1280) && (window.innerWidth >= 990)) {\n      return setMoviesCardRenderIndex(prevIndex => prevIndex + 3);\n    } else if (window.innerWidth < 990) {\n      return setMoviesCardRenderIndex(prevIndex => prevIndex + 2);\n    }\n  }\n\n  //Функция закрытия попапов\n  function closeAllPopups() {\n    setIsInfoTooltipPopupOpen({isOpen: false, isSuccess: isInfoTooltipPopupOpen.isSuccess});\n  }\n\n  //Функция проерки токена, запрос карточек фильмов\n  function tokenCheck() {\n    const initMovies = moviesApi.getLocalStorageMovies();\n    if (initMovies) {\n      setInitialMovies(initMovies);\n      return Promise.all([\n        mainApi.getUserInfo(),\n        mainApi.getAllUserMovies(),\n        ])\n          .then(([userData, userMovies]) => {\n            setCurrentUser(userData);\n            setFaveMovies(userMovies);\n            setFaveMoviesIdList(userMovies.map(i => i.movieId))\n            setIsLoading(false);\n            setIsLoggedIn(true);\n          })\n          .catch(error => {\n            console.log(error);\n            setIsLoggedIn(false);\n            history.push(\"/\");\n          })\n    }\n\n    Promise.all([\n      mainApi.getAllUserMovies(),\n      mainApi.getUserInfo(),\n      moviesApi.getInitialMovies(),\n    ])\n      .then(([userMovies, userData, movies]) => {\n        setCurrentUser(userData);\n        setFaveMovies(userMovies);\n        setFaveMoviesIdList(userMovies.map(i => i.movieId));\n        moviesApi.setLocalStorageMovies(movies);\n        setInitialMovies(movies);\n        setIsLoading(false);\n        setIsLoggedIn(true);\n        history.push(\"/movies\");\n      })\n      .catch(error => {\n        console.log(error);\n        setIsLoggedIn(false);\n        history.push(\"/\");\n      })\n  }\n\n  //Функция фильтрации карточек\n  function handleFilterMovies(arr, searchText, checkboxStatus) {\n    const movieDuration = (checkboxStatus ? 40 : 999);  // Если чекбокс активирован, фильтруем фильмы длительностью меньше 40мин\n    const filteredArray = arr.filter((item) => {\n      return (item.nameRU.toLowerCase().includes(searchText.toLowerCase()) && (item.duration <= movieDuration));\n    });\n\n    return filteredArray;\n  }\n\n  //Функция фильтрации карточек по сабмиту формы поиска\n  //Допускается отправить пустое поле текста, тогда отрисовываем все карточки по умолчанию\n  function handleSearchSubmit(text = '', checked) {\n    const filtered = handleFilterMovies(initialMovies, text, checked);\n    setFilteredMovies(filtered);\n  }\n\n  //Функция фильтрации избранных карточек по сабмиту формы поиска\n  function handleFaveSearchSubmit(text = '', checked) {\n    const filtered = handleFilterMovies(faveMovies, text, checked);\n    setFilteredFaveMovies(filtered);\n  }\n\n  //Функция регистрации пользователя\n  function handleRegisterSubmit(email, name, password) {\n    mainApi.register(email, name, password)\n      .then(res => {\n        setIsInfoTooltipPopupOpen({isOpen: true, isSuccess: true});\n        handleLoginSubmit(password, email);\n      })\n      .catch(error => {\n        console.log(error);\n        setIsInfoTooltipPopupOpen({isOpen: true, isSuccess: false});\n      })\n  }\n\n  //Функция авторизации пользователя\n  function handleLoginSubmit(password, email) {\n    mainApi.authorize(password, email)\n      .then(res => {\n        history.push(\"/movies\");\n        tokenCheck();\n      })\n      .catch(error => {\n        console.log(error);\n        setIsLoggedIn(false);\n        history.push(\"/\");\n      })\n  }\n\n  //Функция выхода из аккаунта пользователя\n  function signOut() {\n    mainApi.logout()\n      .then(res => {\n        setIsLoggedIn(false);\n        localStorage.clear();\n        history.push(\"/\");\n      })\n      .catch(error => {\n        console.log(error);\n    })\n  }\n\n  //Функция редактирования данных пользователя\n  function handleUpdateUser(email, name) {\n    mainApi.editUserInfo(email, name)\n      .then(res => {\n        setIsInfoTooltipPopupOpen({isOpen: true, isSuccess: true});\n        setCurrentUser(res);\n      })\n      .catch(error => {\n        setIsInfoTooltipPopupOpen({isOpen: true, isSuccess: false});\n        console.log(error);\n      })\n  }\n\n  function handleAddMovieToFave(movie) {\n    mainApi.addMovieToFave(movie)\n      .then(res => {\n        setFaveMovies([...faveMovies, res]);\n        setFaveMoviesIdList([...faveMoviesIdList, res.movieId])\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  function handleRemoveMovieFromFave(movie) {\n    console.log(movie);\n    mainApi.removeMovieFromFave(movie)\n      .then(res => {\n        setFilteredFaveMovies(filteredFaveMovies.filter(i => i.movieId !== movie.movieId))\n        setFaveMovies(faveMovies.filter(i => i.movieId !== movie.movieId));\n        setFaveMoviesIdList(faveMoviesIdList.filter(i => i !== movie.movieId))\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  return (\n      <div className=\"page\">\n        <CurrentUserContext.Provider value = {currentUser}>\n          <Switch>\n\n            <Route exact path=\"/\">\n              <Header isLoggedIn={isLoggedIn} />\n              <Main />\n              <Footer />\n            </Route>\n\n            <Route exact path=\"/movies\">\n              <Header />\n              <ProtectedRoute\n                exact path=\"/movies\"\n                isLoggedIn={isLoggedIn}\n                component = {Movies}\n                  isLoading={isLoading}\n                  movies={filteredMovies || initialMovies}  // Передаём либо все карточки, либо, после поиска, отфильтрованные карточки\n                  moviesCardRenderIndex={moviesCardRenderIndex}\n                  handleSetRenderIndex={handleSetRenderIndex}\n                  onSearchSubmit={handleSearchSubmit}\n                  onMovieAdd={handleAddMovieToFave}\n                  onMovieRemove={handleRemoveMovieFromFave}\n                  faveMoviesIdList={faveMoviesIdList}\n                  faveMovies={faveMovies}\n              />\n              <Footer />\n            </Route>\n\n            <Route exact path=\"/saved-movies\">\n              <Header />\n              <ProtectedRoute\n                exact path=\"/saved-movies\"\n                isLoggedIn={isLoggedIn}\n                component = {SavedMovies}\n                  isLoading={isLoading}\n                  faveMoviesIdList={faveMoviesIdList}\n                  faveMovies={filteredFaveMovies || faveMovies}\n                  onSearchSubmit={handleFaveSearchSubmit}\n                  onMovieRemove={handleRemoveMovieFromFave}\n              />\n              <Footer />\n            </Route>\n\n            <Route exact path=\"/profile\">\n              <Header />\n              <ProtectedRoute\n                exact path=\"/profile\"\n                isLoggedIn={isLoggedIn}\n                component = {Profile}\n                  onSignOut={signOut}\n                  onUpdateUser={handleUpdateUser}\n              />\n            </Route>\n\n            <Route exact path=\"/signup\">\n              <Register\n                onRegisterSubmit={handleRegisterSubmit}\n                isLoggedIn={isLoggedIn}\n                history={history}\n              />\n            </Route>\n\n            <Route exact path=\"/signin\">\n              <Login\n                onLoginSubmit={handleLoginSubmit}\n                isLoggedIn={isLoggedIn}\n                history={history}\n              />\n            </Route>\n\n            <Route path=\"/*\">\n              <NotFoundPage history={history} />\n            </Route>\n\n          </Switch>\n          <InfoTooltip\n            isOpen={isInfoTooltipPopupOpen.isOpen}\n            isSuccess={isInfoTooltipPopupOpen.isSuccess}\n            onClose={closeAllPopups}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}